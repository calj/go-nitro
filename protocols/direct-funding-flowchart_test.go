// TODO:
// - prepare a bunch of initial states
// - crank them
// - assert on the sideffects and waitingFor string